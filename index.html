<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE-edge">
    <meta name="viewport" content="width=device-width, initial=scale=1.0">
    <title>Covid Status - Página Inicial</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>    <script type='text/javascript' src='https://www.gstatic.com/charts/loader.js'></script>
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
    <div class="container py-2">
      <header>
        <div class="d-flex flex-column flex-md-row align-items-center pb-3 mb-4 border-bottom">
          <a href="index.html" class="d-flex align-items-center text-dark text-decoration-none">        
            <img class="mb-2" src="./assets/coronavirus_black_24dp.svg" alt="" width="48" height="48">
            <span class="fs-4">Covid Status</span>
          </a>

          <nav class="d-inline-flex mt-2 mt-md-0 ms-md-auto">
            <a class="nav-link py-2 text-dark text-decoration-none active" aria-current="page" href="index.html">Página Inicial</a>
            <a class="nav-link py-2 text-dark text-decoration-none" href="regions.html">Regiões Salvas</a>
            <a class="nav-link py-2 text-dark text-decoration-none" href="#" data-bs-toggle="modal" data-bs-target="#aboutModal">Sobre</a>
          </nav>
        </div>

        <div class="p-3 pb-md-4 mx-auto text-center">
          <h1 class="display-4 fw-normal">Informe-se, cuide-se!</h1>
          <p class="fs-5 text-muted">Aqui você pode acompanhar o status da Covid no mundo.</p>
        </div>
      </header>

      <main>
        <div class="row row-cols-12 text-center">
          <div class="col">
            <div class="card mb-4 rounded-3 shadow-sm">
              <div class="card-header py-3 text-primary border-primary">
                <h4 class="my-0 fw-normal">Situação Mundial</h4>
              </div>
              <div class="card-body">
                <div class="regions-world-data opacity-0">
                  <div class="row">
                    <div class="col-md-2 col-4">
                      <h4 class="text-primary"><b id="world-active-cases-text"></b></h4>
                      <p class="text-muted">casos ativos</p>
                    </div>
                    <div class="col-md-2 col-4">
                      <h4 class="text-primary"><b id="world-new-cases-text"></b></h4>
                      <p class="text-muted">novos casos</p>
                    </div>
                    <div class="col-md-2 col-4">
                      <h4 class="text-primary"><b id="world-new-deaths-text"></b></h4>
                      <p class="text-muted">mortes</p>
                    </div>
                    <div class="col-md-2 col-4">
                      <h4 class="text-primary"><b id="world-total-cases-text"></b></h4>
                      <p class="text-muted">total de casos</p>
                    </div>
                    <div class="col-md-2 col-4">
                      <h4 class="text-primary"><b id="world-total-deaths-text"></b></h4>
                      <p class="text-muted">total de mortes</p>
                    </div>
                    <div class="col-md-2 col-4">
                      <h4 class="text-primary"><b id="world-total-recovered-text"></b></h4>
                      <p class="text-muted">total de recuperados</p>
                    </div>
                  </div>
                  <div class="row mt-3">
                    <div class="col-12">
                      <p class="text-muted">O intervalo de valores do mapa refere-se as Casos Ativos.</p>
                    </div>
                  </div>
                </div>
                <div class="regions-loading">
                  <div class="d-flex justify-content-center">
                    <div class="spinner-border" role="status">
                      <span class="visually-hidden">Loading...</span>
                    </div>
                  </div>
                </div>
                <div id="regions-chart" class="regions-chart"></div>
                <div class="row mt-3">
                  <div class="col-12">
                    <p class="text-muted">Navegue/clique sobre o mapa para obter mais informações.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row row-cols-12 mb-3 text-center">
          <div class="col">
            <div class="card mb-4 rounded-3 shadow-sm">
              <div class="card-header py-3 text-primary border-primary">
                <h4 class="my-0 fw-normal">Regiões</h4>
              </div>
              <div class="card-body">
                <div class="row mb-3 text-center">
                  <div class="col-12">
                    <p class="text-muted">Clique em "Salvar Informações", isso o torna capaz de analisar gráficos por região na página de Regiões Salvas.</p>
                    <p class="text-muted">Não pode ser salva uma região já salva com a mesma data de atualização, isso evita redundância na análise.</p>
                  </div>
                  <div class="col-12">
                    <div id="carouselRegions" class="carousel carousel-dark slide" data-bs-ride="carousel">
                      <div class="carousel-inner">
                        <div class="carousel-item-fake"></div>
                      </div>
                      <div class="regions-loading">
                        <div class="d-flex justify-content-center">
                          <div class="spinner-border" role="status">
                            <span class="visually-hidden">Loading...</span>
                          </div>
                        </div>
                      </div>
                      <button class="carousel-control-prev" type="button" data-bs-target="#carouselRegions" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                      </button>
                      <button class="carousel-control-next" type="button" data-bs-target="#carouselRegions" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                      </button>
                    </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </main>

      <footer class="pt-4 my-md-5 pt-md-5 border-top">
        <div class="row">
          <div class="col-12 col-md text-center">
            <img class="mb-2" src="./assets/coronavirus_black_24dp.svg" alt="" width="24" height="24">
            <small class="d-block mb-3 text-muted">Covid Status © 2022</small>
          </div>
        </div>
      </footer>
    </div>

    <div class="modal fade" id="aboutModal" tabindex="-1" aria-labelledby="aboutModal" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="aboutModal">Mais informações</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>Covid Status tem o intuito de apresentar a situação mundial da Covid.</p>
            <p>Além disso, traz a possibilidade de salvar os dados de qualquer região, quantas vezes for necessário, para que possam ser analizadas posteriormente.</p>
            <p>A fonte de dados é o Dataflow Kit API, para mais informações acesse: <a href="https://covid-19.dataflowkit.com">https://covid-19.dataflowkit.com</a>.</p>
          </div>
          <div class="modal-footer d-flex justify-content-center">
            <button type="button" class="btn btn-lg btn-outline-primary" data-bs-dismiss="modal">Fechar</button>
          </div>
        </div>
      </div>
    </div>

    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
      <div id="saveWithSuccessToast" class="toast hide bg-success text-white" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
          <strong class="me-auto">Tudo certo</strong>
          <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body">
          A informação foi salva com sucesso!
        </div>
      </div>
      <div id="notSaveWithSuccessToast" class="toast hide bg-danger text-white" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
          <strong class="me-auto">Algo deu errado</strong>
          <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body">
          A região selecionada já foi salva. Tente outra região diferente ou a mesma região com uma data de atualização diferente.
        </div>
      </div>
    </div>

    <script type="text/javascript" src="js/utils.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
  </body>
</html>